-- Script was generated by Devart dbForge Studio for MySQL, Version 6.0.128.0
-- Product home page: http://www.devart.com/dbforge/mysql/studio
-- Script date 31/01/2018 1:33:22
-- Server version: 5.5.5-10.1.29-MariaDB
-- Client version: 4.1

-- 
-- Disable foreign keys
-- 
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;

-- 
-- Set character set the client will use to send SQL statements to the server
--
SET NAMES 'utf8';

-- 
-- Set default database
--
USE gestortareas;

--
-- Definition for table usuarios
--
DROP TABLE IF EXISTS usuarios;
CREATE TABLE usuarios (
  id INT(11) NOT NULL AUTO_INCREMENT,
  nombre VARCHAR(255) DEFAULT NULL,
  apellidos VARCHAR(255) DEFAULT NULL,
  email VARCHAR(50) NOT NULL,
  username VARCHAR(255) NOT NULL,
  authKey VARCHAR(255) DEFAULT NULL,
  activo TINYINT(1) DEFAULT 0,
  password VARCHAR(255) DEFAULT NULL,
  admin TINYINT(1) NOT NULL DEFAULT 0,
  PRIMARY KEY (id),
  UNIQUE INDEX UK_usuarios_email (email),
  UNIQUE INDEX UK_usuarios_nombre (nombre),
  UNIQUE INDEX UK_usuarios_username (username)
)
ENGINE = INNODB
AUTO_INCREMENT = 13
AVG_ROW_LENGTH = 16384
CHARACTER SET utf8
COLLATE utf8_spanish_ci;

--
-- Definition for table tareas
--
DROP TABLE IF EXISTS tareas;
CREATE TABLE tareas (
  id_tarea INT(11) NOT NULL AUTO_INCREMENT,
  nombre VARCHAR(255) NOT NULL,
  descripcion VARCHAR(255) DEFAULT NULL,
  categoria VARCHAR(255) NOT NULL,
  prioridad VARCHAR(255) NOT NULL,
  fecha_inicio DATE NOT NULL,
  fecha_fin DATE NOT NULL,
  propietario VARCHAR(255) NOT NULL,
  PRIMARY KEY (id_tarea),
  INDEX FK_tareas_user_username (propietario),
  CONSTRAINT FK_tareas_usuarios_username FOREIGN KEY (propietario)
    REFERENCES usuarios(username) ON DELETE CASCADE ON UPDATE CASCADE
)
ENGINE = INNODB
AUTO_INCREMENT = 6
AVG_ROW_LENGTH = 4096
CHARACTER SET utf8
COLLATE utf8_spanish_ci;

-- 
-- Dumping data for table usuarios
--
INSERT INTO usuarios VALUES
(1, 'Administrador', '', 'root@main.com', 'root', 'n89bIbgAdTsd3h3ycFFzvU6CyyQM1xeD', 1, '$2y$13$nJD7fFuGpPJwJOb2mwtnve2czzhkBW3ikRVdAMKW.RTI1V0/hVUfW', 1),
(10, 'user1', '1', 'user1@test.com', 'user1', 'XNaDiiJ7eblMudi6itpkK9QmE0GpGKqQ', 1, '$2y$13$Did4N4PCz/qjRBhAZ8/Ate62/UDS8ZJYD0ZsA9IbUBeNMbjDMpdM6', 0),
(11, 'user2', '2', 'user2@test.com', 'user2', 'dNDU4qEQz_dUOduTqGF1qcsyulUEKGdV', 1, '$2y$13$j6vOQ2FwpWRgyBi2Z7oe3.rjhddQokMRWaX2rozpdnARvDPQ8Fwye', 0),
(12, 'user3', '3', 'user3@test.com', 'user3', 'oPeiW_zmo9mLreepTXIewCSQ3hi3CoT4', 1, '$2y$13$04XTk2h9YIOtsfbVMId6NeQChx.k/QPmK1P67jv6MN13t5F2z9X9O', 0);

-- 
-- Dumping data for table tareas
--
INSERT INTO tareas VALUES
(1, 'MARATÓN', 'correr 20km', 'OCIO', 'MEDIA', '2018-02-18', '2018-02-18', 'user1'),
(2, 'PINTAR ', 'Pintar habitación', 'HOGAR', 'ALTA', '2018-02-03', '2018-02-04', 'user1'),
(3, 'CONDUCIR', 'Practicar hasta el examen', 'FORMACIÓN', 'ALTA', '2018-02-01', '2018-02-28', 'user2'),
(4, 'OPOSICIÓN', 'Preparar y presentar documentación', 'FORMACIÓN', 'URGENTE', '2018-01-31', '2018-02-20', 'user3'),
(5, 'COMPRAR LIBROS', 'Comprar temario Oposiciones', 'FORMACIÓN', 'ALTA', '2018-01-31', '2018-02-05', 'user3');

-- 
-- Enable foreign keys
-- 
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;